---
- name: Installation
  hosts: '{{ target }}'
  vars:
      user: admin
      disallow_root_login: false
      execute_firewall: false

  roles:
      - user
      - iptables
      - fail2ban
      - docker
      - dokku

  tasks:
      - name: Add dotfiles
        git: repo=https://github.com/stoneo/dotfiles dest=/home/{{ user }}/.dotfiles version=server update=no
      - name: Package installation
        apt: name={{ item }} update_cache=yes state=latest
        with_items:
            - git
            - htop
            - vim
            - ncdu
            - silversearcher-ag
            - zip
            - unzip
            - locate
            - make
            - cmake
            - telnet
            - sudo
            - zsh
            - wget
            - curl
            - tmux
            - nmap
            - apt-file
            - lynis
...
